/* ========== RIVERBIT 自然流畅UI/UX系统 ========== */
/* 基于仿生学的动效系统 - 让界面感觉"活着" */

/* ========== 自然动效核心系统 ========== */

/* 仿生学动画缓动函数 - 模拟自然运动规律 */
:root {
  /* 呼吸式节奏 - 基于人类心跳和呼吸 */
  --breath-slow: cubic-bezier(0.25, 0.46, 0.45, 0.94);       /* 深呼吸 */
  --breath-normal: cubic-bezier(0.4, 0.0, 0.2, 1);           /* 正常呼吸 */
  --breath-quick: cubic-bezier(0.4, 0.0, 0.6, 1);            /* 快速反应 */
  
  /* 水波纹效应 - 模拟河流波动 */
  --water-gentle: cubic-bezier(0.23, 1, 0.32, 1);            /* 温和波纹 */
  --water-ripple: cubic-bezier(0.68, -0.55, 0.265, 1.55);    /* 水滴涟漪 */
  --water-splash: cubic-bezier(0.175, 0.885, 0.32, 1.275);   /* 水花飞溅 */
  
  /* 弹性反馈 - 模拟物理弹性 */
  --elastic-soft: cubic-bezier(0.68, -0.6, 0.32, 1.6);       /* 柔软弹性 */
  --elastic-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);  /* 弹跳效果 */
  --elastic-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275); /* 弹簧回弹 */
  
  /* 流体运动 - 模拟液体流动 */
  --fluid-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);      /* 平滑流动 */
  --fluid-viscous: cubic-bezier(0.23, 1, 0.320, 1);          /* 粘稠液体 */
  --fluid-mercury: cubic-bezier(0.19, 1, 0.22, 1);           /* 水银流动 */
  
  /* 自然时间节奏 */
  --time-instant: 120ms;    /* 瞬间反应 */
  --time-quick: 250ms;      /* 快速响应 */
  --time-natural: 350ms;    /* 自然节奏 */
  --time-breath: 650ms;     /* 呼吸节奏 */
  --time-meditate: 1200ms;  /* 沉思节拍 */
  
  /* 情感化颜色系统 */
  --emotion-calm: rgba(0, 212, 255, 0.1);      /* 平静 */
  --emotion-focus: rgba(0, 212, 255, 0.3);     /* 专注 */
  --emotion-excitement: rgba(255, 0, 229, 0.2); /* 兴奋 */
  --emotion-confidence: rgba(16, 185, 129, 0.15); /* 信心 */
  --emotion-caution: rgba(251, 191, 36, 0.15);   /* 谨慎 */
  --emotion-alert: rgba(239, 68, 68, 0.15);      /* 警觉 */
}

/* ========== 呼吸式设计元素 ========== */

/* 基础呼吸动画 */
@keyframes breathe {
  0%, 100% { 
    transform: scale(1) translateY(0);
    opacity: 0.8;
  }
  50% { 
    transform: scale(1.02) translateY(-1px);
    opacity: 1;
  }
}

@keyframes breathe-glow {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
  }
  50% { 
    box-shadow: 0 0 40px rgba(0, 212, 255, 0.4);
  }
}

/* 水波纹效果 */
@keyframes water-ripple {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  40% {
    transform: scale(1);
    opacity: 0.8;
  }
  100% {
    transform: scale(1.2);
    opacity: 0;
  }
}

/* 价格变动水波纹 */
@keyframes price-ripple-up {
  0% {
    background: radial-gradient(circle at center, rgba(16, 185, 129, 0.4) 0%, transparent 50%);
    transform: scale(0.5);
    opacity: 0;
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    background: radial-gradient(circle at center, rgba(16, 185, 129, 0.1) 0%, transparent 70%);
    transform: scale(1.5);
    opacity: 0;
  }
}

@keyframes price-ripple-down {
  0% {
    background: radial-gradient(circle at center, rgba(239, 68, 68, 0.4) 0%, transparent 50%);
    transform: scale(0.5);
    opacity: 0;
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    background: radial-gradient(circle at center, rgba(239, 68, 68, 0.1) 0%, transparent 70%);
    transform: scale(1.5);
    opacity: 0;
  }
}

/* 流体数据更新动画 */
@keyframes data-flow {
  0% {
    transform: translateX(-100%) scale(0.8);
    opacity: 0;
  }
  50% {
    transform: translateX(0) scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

/* 心跳式脉动 */
@keyframes pulse-heartbeat {
  0%, 100% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.05);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.03);
  }
  70% {
    transform: scale(1);
  }
}

/* ========== 自然交互组件 ========== */

/* 自然按钮系统 */
.natural-button {
  position: relative;
  overflow: hidden;
  transition: all var(--time-natural) var(--elastic-soft);
  transform-origin: center;
}

.natural-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, transparent 0%, var(--emotion-calm) 100%);
  opacity: 0;
  transition: opacity var(--time-quick) var(--water-gentle);
  pointer-events: none;
}

.natural-button:hover::before {
  opacity: 1;
  animation: water-ripple var(--time-breath) var(--water-ripple) infinite;
}

.natural-button:hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 
    0 8px 32px rgba(0, 212, 255, 0.3),
    0 4px 16px rgba(0, 212, 255, 0.2);
}

.natural-button:active {
  transform: translateY(0) scale(0.98);
  transition-duration: var(--time-instant);
  transition-timing-function: var(--elastic-bounce);
}

/* 呼吸式卡片 */
.breathing-card {
  animation: breathe 4s var(--breath-slow) infinite;
  transition: all var(--time-natural) var(--water-gentle);
}

.breathing-card:hover {
  animation-play-state: paused;
  transform: translateY(-4px) scale(1.02);
  box-shadow: 
    0 16px 64px rgba(0, 0, 0, 0.3),
    0 8px 32px rgba(0, 212, 255, 0.2);
}

/* 价格变动自然反馈 */
.price-natural-up {
  position: relative;
  color: #10b981;
  transition: all var(--time-quick) var(--elastic-soft);
}

.price-natural-up::after {
  content: '';
  position: absolute;
  inset: -4px;
  background: radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
  animation: price-ripple-up var(--time-breath) var(--water-ripple);
  pointer-events: none;
}

.price-natural-down {
  position: relative;
  color: #ef4444;
  transition: all var(--time-quick) var(--elastic-soft);
}

.price-natural-down::after {
  content: '';
  position: absolute;
  inset: -4px;
  background: radial-gradient(circle, rgba(239, 68, 68, 0.3) 0%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
  animation: price-ripple-down var(--time-breath) var(--water-ripple);
  pointer-events: none;
}

/* 流体数据更新 */
.data-flow-update {
  animation: data-flow var(--time-natural) var(--fluid-smooth);
}

.data-flow-update.highlight {
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--emotion-focus) 50%, 
    transparent 100%);
  animation: data-flow var(--time-breath) var(--fluid-mercury);
}

/* ========== AI组件自然对话感 ========== */

.ai-natural-response {
  opacity: 0;
  transform: translateY(10px) scale(0.95);
  animation: ai-appear var(--time-natural) var(--water-gentle) forwards;
}

@keyframes ai-appear {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  60% {
    opacity: 0.8;
    transform: translateY(-2px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.ai-thinking {
  animation: pulse-heartbeat 2s var(--breath-slow) infinite;
}

.ai-thinking::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle, var(--emotion-focus) 0%, transparent 70%);
  animation: breathe-glow 3s var(--breath-slow) infinite;
  pointer-events: none;
}

/* ========== 情境感知智能界面 ========== */

/* 市场情绪指示器 */
.market-emotion-calm {
  background: linear-gradient(135deg, var(--emotion-calm), rgba(0, 212, 255, 0.05));
  border: 1px solid rgba(0, 212, 255, 0.2);
}

.market-emotion-volatile {
  background: linear-gradient(135deg, var(--emotion-excitement), rgba(255, 0, 229, 0.05));
  border: 1px solid rgba(255, 0, 229, 0.3);
  animation: pulse-heartbeat 1.5s var(--elastic-soft) infinite;
}

.market-emotion-trending {
  background: linear-gradient(135deg, var(--emotion-confidence), rgba(16, 185, 129, 0.05));
  border: 1px solid rgba(16, 185, 129, 0.3);
  animation: breathe 3s var(--breath-normal) infinite;
}

/* ========== 视觉呼吸节奏系统 ========== */

/* 全局呼吸节奏 */
.global-breath {
  animation: breathe 6s var(--breath-slow) infinite;
}

.section-breath {
  animation: breathe 4s var(--breath-normal) infinite;
}

.element-breath {
  animation: breathe 3s var(--breath-quick) infinite;
}

/* 交错呼吸 - 创造生命感 */
.breath-delay-1 { animation-delay: 0.5s; }
.breath-delay-2 { animation-delay: 1s; }
.breath-delay-3 { animation-delay: 1.5s; }
.breath-delay-4 { animation-delay: 2s; }

/* ========== 触觉反馈模拟 ========== */

.haptic-light {
  transition: transform var(--time-instant) var(--elastic-spring);
}

.haptic-light:active {
  transform: scale(0.95);
}

.haptic-medium {
  transition: transform var(--time-quick) var(--elastic-bounce);
}

.haptic-medium:active {
  transform: scale(0.9) translateY(1px);
}

.haptic-strong {
  transition: transform var(--time-natural) var(--elastic-soft);
}

.haptic-strong:active {
  transform: scale(0.85) translateY(2px);
  box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.3);
}

/* ========== 认知负担优化 ========== */

/* 渐进式显示 */
.progressive-reveal {
  opacity: 0;
  transform: translateY(20px);
  animation: progressive-appear 0.6s var(--water-gentle) forwards;
}

@keyframes progressive-appear {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.progressive-reveal:nth-child(1) { animation-delay: 0.1s; }
.progressive-reveal:nth-child(2) { animation-delay: 0.2s; }
.progressive-reveal:nth-child(3) { animation-delay: 0.3s; }
.progressive-reveal:nth-child(4) { animation-delay: 0.4s; }
.progressive-reveal:nth-child(5) { animation-delay: 0.5s; }

/* 引导注意力的光流 */
.attention-flow {
  position: relative;
  overflow: hidden;
}

.attention-flow::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    rgba(0, 212, 255, 0.8) 50%, 
    transparent 100%);
  animation: attention-sweep 3s var(--fluid-smooth) infinite;
}

@keyframes attention-sweep {
  0% { left: -100%; }
  100% { left: 100%; }
}

/* ========== 温暖人性化细节 ========== */

/* 微笑曲线 */
.smile-curve {
  border-radius: 0 0 20px 20px;
  transition: border-radius var(--time-natural) var(--water-gentle);
}

.smile-curve:hover {
  border-radius: 0 0 30px 30px;
}

/* 温暖光晕 */
.warm-glow {
  box-shadow: 
    0 0 20px rgba(255, 200, 100, 0.1),
    0 0 40px rgba(255, 200, 100, 0.05);
  transition: box-shadow var(--time-breath) var(--breath-slow);
}

.warm-glow:hover {
  box-shadow: 
    0 0 30px rgba(255, 200, 100, 0.2),
    0 0 60px rgba(255, 200, 100, 0.1);
}

/* 拟物化微妙质感 */
.subtle-texture {
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
}

/* ========== 响应式自然感 ========== */

/* 移动端触感优化 */
@media (max-width: 768px) {
  .natural-button {
    min-height: 44px; /* 符合触控标准 */
    transition-duration: var(--time-quick);
  }
  
  .breathing-card {
    animation-duration: 6s; /* 移动端放慢呼吸 */
  }
  
  .haptic-light:active {
    transform: scale(0.9); /* 增强移动端反馈 */
  }
}

/* 减动效模式支持 */
@media (prefers-reduced-motion: reduce) {
  .breathing-card,
  .global-breath,
  .section-breath,
  .element-breath {
    animation: none;
  }
  
  .natural-button,
  .data-flow-update,
  .ai-natural-response {
    transition-duration: var(--time-instant);
  }
}

/* ========== 专业交易自然化增强 ========== */

/* 智能表单反馈 */
.slider-safe::-webkit-slider-thumb {
  background: linear-gradient(135deg, #10b981, #059669);
  box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
}

.slider-warning::-webkit-slider-thumb {
  background: linear-gradient(135deg, #f59e0b, #d97706);
  box-shadow: 0 0 8px rgba(245, 158, 11, 0.4);
}

.slider-danger::-webkit-slider-thumb {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  box-shadow: 0 0 8px rgba(239, 68, 68, 0.4);
  animation: pulse-heartbeat 2s var(--elastic-soft) infinite;
}

/* AI界面专用自然动效 */
.natural-ai-header-button {
  transition: all var(--time-natural) var(--water-gentle);
}

.natural-ai-header-button:hover {
  transform: translateY(-4px) scale(1.05);
  box-shadow: 0 16px 48px rgba(0, 212, 255, 0.3);
}

/* 触控优化 */
.touch-feedback:active {
  transform: scale(0.95);
  transition: transform var(--time-instant) var(--elastic-bounce);
}

.touch-scale:hover {
  transform: scale(1.02);
  transition: transform var(--time-quick) var(--elastic-soft);
}

/* 专业市场情绪渐变 */
.market-emotion-trending {
  background: linear-gradient(135deg, 
    var(--emotion-confidence), 
    rgba(16, 185, 129, 0.05));
  border: 1px solid rgba(16, 185, 129, 0.3);
  animation: breathe 4s var(--breath-normal) infinite;
}

.market-emotion-volatile {
  background: linear-gradient(135deg, 
    var(--emotion-excitement), 
    rgba(255, 0, 229, 0.05));
  border: 1px solid rgba(255, 0, 229, 0.3);
  animation: pulse-heartbeat 2s var(--elastic-soft) infinite;
}

.market-emotion-caution {
  background: linear-gradient(135deg, 
    var(--emotion-caution), 
    rgba(239, 68, 68, 0.05));
  border: 1px solid rgba(239, 68, 68, 0.3);
  animation: breathe 3s var(--breath-quick) infinite;
}

.market-emotion-alert {
  background: linear-gradient(135deg, 
    var(--emotion-alert), 
    rgba(239, 68, 68, 0.05));
  border: 1px solid rgba(239, 68, 68, 0.3);
  animation: pulse-heartbeat 1.5s var(--elastic-bounce) infinite;
}

/* ========== 工具类 ========== */

/* 快速应用自然效果 */
.natural-hover:hover {
  transform: translateY(-2px) scale(1.02);
  transition: all var(--time-natural) var(--elastic-soft);
}

.natural-active:active {
  transform: scale(0.95);
  transition: all var(--time-instant) var(--elastic-bounce);
}

.natural-focus:focus-visible {
  outline: 2px solid rgba(0, 212, 255, 0.5);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 212, 255, 0.2);
}

/* 自然状态组合 */
.natural-interactive {
  position: relative;
  overflow: hidden;
  transition: all var(--time-natural) var(--elastic-soft);
}

.natural-interactive::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), 
    rgba(0, 212, 255, 0.1) 0%, 
    transparent 50%);
  opacity: 0;
  transition: opacity var(--time-quick) var(--water-gentle);
  pointer-events: none;
}

.natural-interactive:hover::before {
  opacity: 1;
}